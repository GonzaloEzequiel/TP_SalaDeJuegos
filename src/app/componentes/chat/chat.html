<app-menu (usuarioLogeo)="onUsuarioLogeado($event)"></app-menu>

<div id="main-container">
  <div id="chatroom-container">

    <div id="mensajes-containter" #mensajesContainer>
      @for (msg of mensajes; track msg.ID) {
        <div class="mensaje {{ msg.ID_USUARIO === usuarioLogeado?.ID?.toString() ? 'mensaje-propio' : '' }}">

          <div class="mensaje-header">
            <span id="username">{{ msg.NOMBRE_USUARIO }} </span>
          </div>

          <div class="mensaje-body">
            {{ msg.MENSAJE }}
          </div>  

          <span id="timestamp">{{ msg.FECHA_CREACION | date:'shortTime' }}</span>
        </div>
      }
    </div>


    <form id="chat-container" (ngSubmit)="enviarMensaje()">
      <input id="chat-input"
        type="textarea" 
        [(ngModel)]="nuevoMensaje" 
        name="mensaje" 
        placeholder="Escribe lo que quieras..." 
        required 
      />

      <button id="btn-enviar" aria-label="Enviar mensaje" type="submit"></button>
    </form>
    
  </div>
</div>